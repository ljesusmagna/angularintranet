(function(c){var h=this,d=require("jquery"),i=require("moment"),b="http://moldavia:8082/CPTM.WebAPI/api/LineStatus/Situation";function g(j){this.lineNumber=j;this.situationColor=ko.observable("gray");this.description=ko.observable("");this.status=ko.observable("Serviço indisponível.")}this.lastUpdate=ko.observable();this.line_7=ko.observable(new g(7));this.line_8=ko.observable(new g(8));this.line_9=ko.observable(new g(9));this.line_10=ko.observable(new g(10));this.line_11=ko.observable(new g(11));this.line_12=ko.observable(new g(12));function e(j){switch(j){case"Operação Normal":return"green";case"Velocidade Reduzida":return"yellow";case"Paralisada":case"Operações Encerradas":return"red";default:return"gray"}}function f(l){for(var k=0;k<l.length;k++){var m=l[k],j=h["line_"+m.LinhaId];if(j){j().situationColor(e(m.Status));j().description(m.Descricao);j().status(m.Status)}}h.lastUpdate(i().format("[Atualizado às] h:mm:ss"))}(function a(){d.get(b,f);setTimeout(a,60000+Math.floor(Math.random()*10000))})()});